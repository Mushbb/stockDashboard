# 개인화 주식 대시보드: '오늘의 국장' 프로젝트 계획서

## 1. 프로젝트 개요
본 프로젝트는 국내 주식 시장에 관심 있는 투자자들을 위해 다양한 시장 정보를 한눈에 파악할 수 있는 개인화 대시보드 웹 애플리케이션을 개발하는 것을 목표로 합니다. 사용자는 위젯의 종류, 위치, 크기, 세부 내용까지 직접 커스터마이징하고, 그 설정을 자신의 계정에 저장하여 언제든지 동일한 환경을 불러올 수 있습니다. 이를 통해 분산된 시장 정보를 하나의 화면에 통합하여 제공함으로써 투자자의 정보 탐색 시간을 단축하고자 합니다.

## 2. 핵심 목표
*   **정보의 집약:** 분산된 시장 정보를 하나의 화면에 통합하여 제공함으로써 투자자의 정보 탐색 시간을 단축합니다.
*   **완벽한 개인화:** 사용자가 직접 위젯을 선택 및 추가/제거하고, 레이아웃을 자유롭게 구성하는 커스터마이징 기능을 제공하여 사용자 경험을 극대화합니다.
*   **직관적 시각화:** D3.js 등을 활용한 인터랙티브 차트를 통해 복잡한 데이터를 쉽고 직관적으로 이해할 수 있도록 돕습니다.

## 3. 기술 아키텍처 및 스택
본 시스템은 백엔드와 프론트엔드가 명확히 분리된 구조로 설계되었습니다.
*   **인프라 및 배포 (Infrastructure & Deployment)**
    *   웹 서버, 백엔드 애플리케이션 서버, 데이터베이스 서버 등 모든 인프라는 **MS Azure 클라우드**를 기반으로 구축 및 운영됩니다.
*   **백엔드 (Backend)**
    *   **프레임워크:** Spring Boot (Java)
    *   **인증:** Spring Security를 통한 DB 기반 사용자 인증
    *   **데이터베이스:** Multi-DataSource 설정을 통해 사용자 정보 DB(MS SQL Server)와 주식 데이터 DB(MS SQL Server)를 분리하여 관리합니다.
    *   **핵심 구조:** RESTful API를 통해 프론트엔드에 데이터를 JSON 형식으로 제공하며, `@Scheduled` 및 `@PostConstruct`를 활용해 주요 데이터를 캐시에 저장하여 응답 속도를 향상시킵니다.
*   **프론트엔드 (Frontend)**
    *   **프레임워크:** React.js (컴포넌트 기반 아키텍처 활용)
    *   **애플리케이션 구조:** React Router를 사용한 단일 페이지 애플리케이션(SPA)
    *   **개발 환경:** Vite (HMR 및 프록시 기능 활용)
    *   **핵심 라이브러리:**
        *   `react-grid-layout`: 대시보드의 동적 그리드 시스템을 구현
        *   `d3.js`: 트리맵 차트 등 복잡하고 인터랙티브한 데이터 시각화 담당
    *   **상태 관리:** React Context API를 역할 기반으로 분리하여 관리

## 4. 주요 기능 명세
### 4-1. 대시보드 및 레이아웃
*   **동적 그리드 시스템:** 모든 위젯은 그리드 기반 위에 배치되며, 사용자는 '편집 모드'에서 위젯의 위치와 크기를 자유롭게 드래그 앤 드롭으로 변경할 수 있습니다.
*   **반응형 레이아웃:** 화면 너비에 따라 4열(대형), 3열(중형), 2열(소형)으로 레이아웃이 자동으로 변경됩니다.
*   **레이아웃 저장 및 로드:** 사용자가 변경한 모든 위젯의 위치와 크기 정보는 사용자 계정에 귀속되어 DB에 자동으로 저장되며, 재접속 시 그대로 복원됩니다.
*   **비로그인 사용자 체험 모드:** 로그인하지 않은 사용자도 미리 구성된 샘플 대시보드를 통해 위젯의 추가/제거, 위치/크기 변경 등 모든 기능을 체험할 수 있습니다. 변경사항은 저장되지 않으며, 실시간 데이터는 백엔드에서 정상적으로 연동됩니다.

### 4-2. 위젯 커스터마이징
*   **위젯 추가/삭제:** 사용자는 미리 정의된 위젯 목록에서 원하는 위젯을 선택하여 대시보드에 추가하거나, 편집 모드에서 제거할 수 있습니다.
*   **위젯 이름 변경:** 편집 모드에서 각 위젯의 이름을 사용자가 원하는 대로 변경할 수 있으며, 변경된 이름은 DB에 저장됩니다.

### 4-3. 위젯별 세부 기능
*   **트리맵 차트 (TreemapChart):**
    *   위젯 내 버튼으로 전체 시장(ALL), 코스피(KOSPI), 코스닥(KOSDAQ) 뷰를 전환할 수 있습니다.
    *   특정 섹터를 클릭하여 줌인(Zoom-in)하고, 우클릭으로 상위 레벨로 돌아올 수 있습니다.
    *   마지막으로 선택한 시장 정보는 DB에 저장되어 다음에 동일한 뷰를 보여줍니다.
*   **순위 테이블 (RankTable):**
    *   드롭다운 메뉴를 통해 순위 기준을 '상승률', '거래량' 등으로 실시간 변경할 수 있습니다.
    *   설정(⚙️) 모달을 통해 테이블에 표시할 컬럼과 각 컬럼의 너비를 직접 지정하고 저장할 수 있습니다.
    *   지정된 너비보다 긴 텍스트는 '...'으로 생략 처리되며, 마우스를 올리면 전체 내용이 툴팁으로 표시됩니다.
*   **국내 주식 차트 (KrxChartWidget):**
    *   지정된 종목의 캔들 차트 및 거래량 정보를 표시합니다.
    *   비로그인 사용자도 실시간 차트 데이터를 조회할 수 있도록 백엔드 API 접근 권한이 설정되어 있습니다.
*   **글로벌 차트 (SymbolChartWidget):**
    *   TradingView 임베드를 활용하여 해외 주식 및 가상화폐 차트를 표시합니다.
*   **지표 텍스트 (TextWidget):**
    *   코스피, 코스닥 등 주요 시장 지표를 텍스트 형태로 표시합니다.
*   **메모장 (MemoWidget):**
    *   사용자가 자유롭게 텍스트를 입력하고 저장할 수 있는 메모 기능을 제공합니다.
*   **관심종목 (WatchlistWidget):**
    *   사용자가 등록한 관심 종목 목록을 표시합니다.

## 5. 개발 단계 (MVP 접근법)
### Phase 1: 핵심 기능 구현 완료 및 체험 모드 도입
*   개인화 기능이 제외된 핵심 위젯(주요 지수, 업종별 트리맵, 특징주, 국내 주식 차트, 글로벌 차트, 메모장, 관심종목 등) 개발 및 연동 완료.
*   Spring Boot 백엔드를 통해 실시간 및 데일리 데이터를 자동 갱신하고 연동 완료 (신규 상장 주식 포함).
*   정적인 대시보드 레이아웃 구성 및 백엔드 API 연동 완료.
*   **비로그인 사용자를 위한 인터랙티브 체험 모드 도입:** 사용자는 로그인 없이도 대시보드의 주요 기능을 직접 조작하며 경험할 수 있습니다.
*   **반응형 UI 개선:** 모바일 환경에서 레이아웃이 깨지지 않도록 UI를 개선했습니다.

### Phase 2: 아키텍처 고도화 및 기능 확장
*   그리드 시스템 도입: 정적 레이아웃을 반응형 그리드 시스템으로 전환하여 확장성 기반 마련.
*   신규 핵심 위젯 개발: 캔들 차트, 재사용 가능한 범용 리스트 컴포넌트 등 신규 위젯 개발.
*   초기 개인화 기능 도입: DB 기반 사용자 인증 시스템을 도입하고, '나의 관심 종목' 위젯 개발.

### Phase 3: 인터랙티브 대시보드 및 서비스 확장
*   완전한 대시보드 커스터마이징: `react-grid-layout`을 활용하여 위젯 추가/제거, 위치/크기 변경 기능 구현 및 레이아웃 저장/복원 기능 완성.
*   지원 시장 및 위젯 확장: 미국 주식, 가상화폐 등 새로운 시장 데이터 위젯 및 개별 종목 상세 차트 등 전문 분석 위젯 추가.

## 6. 기대 효과
본 프로젝트를 통해 투자자는 복잡한 시장 정보를 자신의 입맛에 맞게 가공하여 빠르고 효율적으로 인사이트를 얻을 수 있는 강력한 웹 애플리케이션을 갖게 될 것입니다. 또한, React와 D3.js를 활용한 현대적인 웹 개발 기술을 집약적으로 적용하여 높은 완성도를 가진 포트폴리오를 확보할 수 있습니다.

## 7. 향후 개선 과제
*   신규 위젯 타입 개발: 현재의 확장 가능한 구조를 바탕으로, 선 차트, 파이 차트 등 다양한 형태의 새로운 위젯 컴포넌트를 개발하여 추가합니다.
*   외부 API 연동 기능: 위젯 설정에 '데이터 소스 URL' 항목을 추가하여, 외부 3rd-party API로부터 JSON 데이터를 받아와 시각화할 수 있도록 기능을 확장합니다.
